<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>javascript/array_test3.html</title>
</head>
<body>
<div id='javascript'>
   <h1>map | some | filter | reduce</h1>
   <script>
      //각각의 값에 부가세 10%를 더하여 새로운 배열을 만들어 출력하기
      console.log('------map------');
      var array = [10,20,30,40,50,60,70,80,90,100];
      var arrayAfter = array.map(function(v){
    	  var r = v*1.1; //(1은 원금, 0.1은 부가세)
    	  return r;
      })
      for(i=0;i<array.length;i++){
    	  console.log(array[i], arrayAfter[i].toFixed(0));
      }
      
      //some()를 사용하여 과락 성적이 있는가를 판별
      console.log('------some------');
      var score = [77,66,55,44,33];
      var result = score.some(function(v){
    	  return v<40;
      });
      console.log(score, result);
      
      //filter()사용하여 성적이 60 이상인 합격자를 새로운 배열에 만들고 출력하기
      var score = [
    	  {'name' : 'kim', 'score' : 90},
    	  {'name' : 'lee', 'score' : 50},
    	  {'name' : 'hong', 'score' : 99},
    	  {'name' : 'park', 'score' : 40}
      ];
      var newScore = score.filter(function(x){
    	  if(x.score>=60){
    		  return true;
    	  }else{
    		  return false;
    	  }
      });
      console.table(newScore);
      /*'kim'   90
        'hong'  99*/
        
      console.log('------reduce------');
      var array = [11,22,33,55,11,66,5,4,5,6,2,3,4];
      var newArray = array.reduce(function(v,index){
    	 v[index] = v[index]+1 || 1;
    	 return v;
      },{});
      console.table(newArray);
   </script>
</div>
</body>
</html>